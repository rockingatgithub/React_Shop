(this.webpackJsonpreactcart=this.webpackJsonpreactcart||[]).push([[0],{28:function(t,e,r){t.exports=r(39)},37:function(t,e,r){},39:function(t,e,r){"use strict";r.r(e);var a=r(0),o=r.n(a),c=r(13),n=r(6),s=r.n(n),i=r(12),l=r(27),u=r(5),d=r(23),p=r(2);function m(){return function(t){fetch("https://my-json-server.typicode.com/rockingatgithub/e_commerce_data/posts").then((function(t){return t.json()})).then((function(e){console.log("product",e),t(function(t){return{type:"ALL_PRODUCTS",products:t}}(e))}))}}function h(t){return function(e){var r={method:"POST",headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(t)},a="https://my-json-server.typicode.com/rockingatgithub/e_commerce_data/posts";fetch(a,r).then((function(t){return t.json()})).then((function(t){console.log(t+" "+a),e(function(t){return{type:"ADD_PRODUCT_TO_LIST",product:t}}(t))})).catch((function(t){return console.log(t)}))}}var O={list:[],cart:[],cartCount:0,showOne:!1,showOneItem:{},showCart:!1,showAll:!0};var g=Object(i.c)({products:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"ALL_PRODUCTS":return Object(p.a)(Object(p.a)({},t),{},{list:e.products});case"ADD_TO_CART":var r=t.cartCount+1;return Object(p.a)(Object(p.a)({},t),{},{cart:[e.product].concat(Object(d.a)(t.cart)),cartCount:r});case"REMOVE_FROM_CART":var a=t.cart.filter((function(t){return t.id!==e.product.id})),o=t.cartCount-1;return Object(p.a)(Object(p.a)({},t),{},{cart:a,cartCount:o});case"REMOVE_PRODUCT":var c=t.list.filter((function(t){return t.id!==e.product.id})),n=t.cart.filter((function(t){return t.id!==e.product.id})),s=n.length===t.cart.length?t.cartCount:t.cartCount-1;return Object(p.a)(Object(p.a)({},t),{},{list:c,cart:n,cartCount:s});case"ADD_PRODUCT_TO_LIST":return Object(p.a)(Object(p.a)({},t),{},{list:[e.product].concat(Object(d.a)(t.list))});case"SORT_PRODUCT":var i=function(t,e){return t.price>e.price?1:t.price<e.price?-1:0},l=t.list.sort(i);return console.log(l),Object(p.a)(Object(p.a)({},t),{},{list:l});case"UNSORT_PRODUCT":var u=function(t,e){return t.id>e.id?1:t.id<e.id?-1:0},m=t.list.sort(u);return console.log(m),Object(p.a)(Object(p.a)({},t),{},{list:m});case"SHOW_ITEM":return Object(p.a)(Object(p.a)({},t),{},{showOne:!0,showOneItem:e.product,showCart:!1,showAll:!1});case"SHOW_CART":return Object(p.a)(Object(p.a)({},t),{},{showCart:!0,showAll:!1});case"SHOW_FULL_CART":return Object(p.a)(Object(p.a)({},t),{},{showCart:!1,showAll:!0});case"HIDE_PRODUCT_INFO":return Object(p.a)(Object(p.a)({},t),{},{showOne:!1,showAll:!0,showOneItem:{}});default:return t}}}),b=(r(37),r(8)),f=r(9),C=r(11),v=r(10),E=(r(16),function(t){Object(C.a)(r,t);var e=Object(v.a)(r);function r(t){var a;return Object(b.a)(this,r),(a=e.call(this,t)).sortProduct=function(){Object(u.b)("Product Sorted!",{position:"top-right",type:"success",autoClose:2e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0}),a.props.dispatch({type:"SORT_PRODUCT"}),a.setState({isSorted:!0})},a.unSortProduct=function(){a.props.dispatch({type:"UNSORT_PRODUCT"}),a.setState({isSorted:!1})},a.showCartBox=function(){Object(u.b)("Your Cart!",{position:"top-right",type:"info",autoClose:2e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0}),a.props.dispatch({type:"SHOW_CART"})},a.showAll=function(){a.props.dispatch({type:"SHOW_FULL_CART"})},a.state={isSorted:!1},a}return Object(f.a)(r,[{key:"render",value:function(){var t=this.props.products.cartCount,e=this.state.isSorted;return o.a.createElement("div",{id:"navbar-container"},o.a.createElement("ul",{id:"nav-list"},o.a.createElement("li",{className:"nav-items"},o.a.createElement("button",{onClick:this.showCartBox},"View Cart")),o.a.createElement("li",{className:"nav-items"},o.a.createElement("button",{onClick:this.showAll},"ShowAll")),o.a.createElement("li",{className:"nav-items",id:"banner"},o.a.createElement("small",null,"Data is not persistent, page refresh will reset data.")),o.a.createElement("li",{className:"nav-items",id:"cart-nav-item"},o.a.createElement("img",{src:"https://image.flaticon.com/icons/svg/628/628556.svg",className:"cart-img",style:{height:"24px",width:"24px"}}),o.a.createElement("span",{id:"cart-count"},t)),o.a.createElement("li",{className:"nav-items",id:"cart-nav-sort"},e?o.a.createElement("button",{className:"unsort-button",onClick:this.unSortProduct}," ","UnSort Items"," "):o.a.createElement("button",{className:"sort-button",onClick:this.sortProduct}," ","Sort Items"," "))))}}]),r}(a.Component));var j=Object(c.b)((function(t){return{products:t.products}}))(E),w=r(19),P=function(t){Object(C.a)(r,t);var e=Object(v.a)(r);function r(t){var a;return Object(b.a)(this,r),(a=e.call(this,t)).productTitle=function(t){a.setState({pTitle:t.target.value})},a.productPrice=function(t){a.setState({pPrice:t.target.value})},a.productDesc=function(t){a.setState({pDesc:t.target.value})},a.productImg=function(t){a.setState({pImg:t.target.value})},a.submitProduct=function(){var t=a.state,e={title:t.pTitle,price:t.pPrice,desc:t.pDesc,img:t.pImg};a.props.dispatch(h(e))},a.state={pTitle:"",pPrice:"",pDesc:"",pImg:""},a}return Object(f.a)(r,[{key:"render",value:function(){return o.a.createElement("div",{id:"add-form"},o.a.createElement("p",{className:"add-form-block"},o.a.createElement("label",{for:"item-title"},"Title: "),o.a.createElement("input",{id:"item-title",onChange:this.productTitle})),o.a.createElement("p",{className:"add-form-block"},o.a.createElement("label",{for:"item-price"},"Price: "),o.a.createElement("input",{id:"item-price",onChange:this.productPrice})),o.a.createElement("p",{className:"add-form-block"},o.a.createElement("label",{for:"item-desc"},"Description: "),o.a.createElement("input",{id:"item-desc",onChange:this.productDesc})),o.a.createElement("p",{className:"add-form-block"},o.a.createElement("label",{for:"item-img"},"Image Link: "),o.a.createElement("input",{id:"item-img",onChange:this.productImg,value:""})),o.a.createElement("button",{id:"add-product",onClick:this.submitProduct},"ADD"))}}]),r}(a.Component),T=function(t){Object(C.a)(r,t);var e=Object(v.a)(r);function r(t){var a;return Object(b.a)(this,r),(a=e.call(this,t)).handleAddClick=function(){Object(u.b)("Product added to cart!",{position:"top-right",type:"info",autoClose:2e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0});var t=a.props.product;a.props.dispatch(function(t){return{type:"ADD_TO_CART",product:t}}(t))},a.handleRemoveClick=function(){Object(u.b)("Product Removed!",{position:"top-right",type:"info",autoClose:2e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0});var t=a.props.product;a.props.dispatch(function(t){return{type:"REMOVE_FROM_CART",product:t}}(t))},a.handleDeleteProduct=function(t){Object(u.b)("Product deleted!",{position:"top-right",type:"info",autoClose:2e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0}),a.props.dispatch(function(t){return{type:"REMOVE_PRODUCT",product:t}}(t))},a.showEdit=function(){a.state.showEditOption?a.setState({showEditOption:!1}):a.setState({showEditOption:!0})},a.editPrice=function(t){a.setState({price:t.target.value})},a.editTitle=function(t){a.setState({title:t.target.value})},a.editDesc=function(t){a.setState({desc:t.target.value})},a.showProduct=function(t){a.props.dispatch(function(t){return{type:"SHOW_ITEM",product:t}}(t))},a.state={price:t.product.price,title:t.product.title,desc:t.product.desc,image:t.product.img,showEditOption:!1},a}return Object(f.a)(r,[{key:"render",value:function(){var t=this,e=this.props,r=e.product,a=e.isInCart,c=e.showControls,n=this.state,s=n.title,i=n.price,l=n.showEditOption,u=n.desc,d=n.image;return o.a.createElement("div",{className:"product-card product-info"},o.a.createElement("span",{onClick:function(){return t.showProduct(r)},className:"product-title"},s),c&&o.a.createElement("span",{className:"delete-button"},o.a.createElement("img",{className:"cart-button",src:"https://image.flaticon.com/icons/svg/833/833262.svg",style:{height:"20px",width:"20px"},onClick:function(){return t.handleDeleteProduct(r)}}),o.a.createElement("img",{className:"cart-edit",src:"https://img.icons8.com/ios/50/000000/edit.png",onClick:this.showEdit,style:{height:"20px",width:"20px",marginRight:"10px",display:"inline-block",position:"relative"}})),l&&o.a.createElement("div",{className:"item-controls"},o.a.createElement("p",{className:"product-form-price"},"Price: ",o.a.createElement("input",{onChange:this.editPrice})),o.a.createElement("p",{className:"product-form-title"},"Title: ",o.a.createElement("input",{onChange:this.editTitle})),o.a.createElement("p",{className:"product-form-desc"},"Description: ",o.a.createElement("input",{onChange:this.editDesc}))),o.a.createElement("p",{className:"product-image-container"},o.a.createElement("img",{src:d,className:"product-image",onClick:function(){return t.showProduct(r)}})),o.a.createElement("p",{className:"product-price"},"Rs.",i),o.a.createElement("p",{className:"product-desc"},u),a?o.a.createElement("button",{className:"remove-from-cart",onClick:this.handleRemoveClick},"Remove"):o.a.createElement("button",{className:"add-to-cart",onClick:this.handleAddClick},"Add To Cart"))}}]),r}(a.Component),k=function(t){Object(C.a)(r,t);var e=Object(v.a)(r);function r(t){var a;return Object(b.a)(this,r),(a=e.call(this,t)).isProductInCart=function(t){return-1!==a.props.products.cart.indexOf(t)},a.showFormBox=function(){a.state.showForm?(Object(u.b)("Add Product Form Closed!",{position:"top-right",type:"info",autoClose:2e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0}),a.setState({showForm:!1})):(Object(u.b)("Add product form and click add product button to close!",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0}),a.setState({showForm:!0}))},a.hideProduct=function(){a.props.dispatch({type:"HIDE_PRODUCT_INFO"})},a.state={showForm:!1},a}return Object(f.a)(r,[{key:"componentDidMount",value:function(){this.props.dispatch(m())}},{key:"render",value:function(){var t=this,e=this.state.showForm,r=this.props.products,a=r.list,c=r.cart,n=r.showOne,s=r.showOneItem,i=r.showAll,l=r.showCart;return o.a.createElement(w.a,null,o.a.createElement("div",{id:"container"},o.a.createElement(j,null),o.a.createElement("div",{id:"left-box"},o.a.createElement("button",{onClick:this.showFormBox,id:"add_product"},"Add Product"),e&&o.a.createElement(P,{dispatch:this.props.dispatch}),i&&o.a.createElement("div",{className:"main-list"},a.map((function(e){return o.a.createElement(T,{product:e,key:e.id,dispatch:t.props.dispatch,isInCart:t.isProductInCart(e),showControls:!0})})),0===a.length?o.a.createElement("div",{className:"no-products"},"No products!"):null),l&&o.a.createElement("div",{className:"main-list"},c.map((function(e){return o.a.createElement(T,{product:e,key:e.id,dispatch:t.props.dispatch,isInCart:t.isProductInCart(e),showControls:!1})})),0===c.length?o.a.createElement("div",{className:"no-products"},"No products!"):null)),o.a.createElement("div",{id:"right-box"},n&&o.a.createElement("div",{className:"product-desc-info"},o.a.createElement("button",{onClick:this.hideProduct,id:"close-info-button"},"Close"),o.a.createElement(T,{product:s,key:s.id,dispatch:this.props.dispatch,isInCart:this.isProductInCart(s)})))))}}]),r}(a.Component);var N=Object(c.b)((function(t){return{products:t.products}}))(k),S=Object(i.d)(g,Object(i.a)((function(t){t.dispatch,t.getState;return function(t){return function(e){console.log("ACTION",e),t(e)}}}),l.a));s.a.render(o.a.createElement(c.a,{store:S},o.a.createElement(u.a,{position:"top-right",autoClose:2e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0}),o.a.createElement(u.a,null),o.a.createElement(N,null)),document.getElementById("root"))}},[[28,1,2]]]);
//# sourceMappingURL=main.d1fcab90.chunk.js.map